<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.20.6.final using JasperReports Library version 6.20.6-5c96b6aa8a39ac1dc6b6bea4b81168e16dd39231  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Blank_A4_Table_Based_2" pageWidth="595" pageHeight="842" whenNoDataType="AllSectionsNoDetail" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="fc97a963-c0b6-4c19-a348-7e2773e092a3">
	<property name="template.engine" value="tabular_template"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="adapterTPV"/>
	<style name="Table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
			<topPen lineWidth="1.0" lineColor="#000000"/>
			<leftPen lineWidth="1.0" lineColor="#000000"/>
			<bottomPen lineWidth="1.0" lineColor="#000000"/>
			<rightPen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TH" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#EFEFEF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="tableDataset" uuid="d956579c-6d56-4286-b3e8-5085f1adaa65">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="adapterTPV"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<parameter name="idMesa" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{idMesa}]]></defaultValueExpression>
		</parameter>
		<parameter name="total" class="java.lang.Double">
			<defaultValueExpression><![CDATA[$P{total}]]></defaultValueExpression>
		</parameter>
		<queryString language="SQL">
			<![CDATA[select p.nombre,det.cantidad,p.precio from detalles_factura det
inner join factura fac on fac.id = det.factura 
inner join productos p on p.codigo = det.producto
where fac.fecha = (select fecha from factura where mesa = $P{idMesa}   order by fecha desc limit 1)]]>
		</queryString>
		<field name="nombre" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="nombre"/>
			<property name="com.jaspersoft.studio.field.label" value="nombre"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="productos"/>
		</field>
		<field name="cantidad" class="java.lang.Integer">
			<property name="com.jaspersoft.studio.field.name" value="cantidad"/>
			<property name="com.jaspersoft.studio.field.label" value="cantidad"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="detalles_factura"/>
		</field>
		<field name="precio" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.name" value="precio"/>
			<property name="com.jaspersoft.studio.field.label" value="precio"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="productos"/>
		</field>
	</subDataset>
	<parameter name="idFactura" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[$P{idFactura}]]></defaultValueExpression>
	</parameter>
	<parameter name="idMesa" class="java.lang.String"/>
	<parameter name="fecha" class="java.sql.Timestamp"/>
	<parameter name="total" class="java.lang.Double"/>
	<queryString>
		<![CDATA[]]>
	</queryString>
	<title>
		<band height="150" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<staticText>
				<reportElement style="Table_TH" x="156" y="10" width="242" height="30" uuid="aa144d2f-6e4e-4cf4-b561-7730e46c8969"/>
				<textElement textAlignment="Center">
					<font size="20"/>
				</textElement>
				<text><![CDATA[BAR RESTAURANTE]]></text>
			</staticText>
			<staticText>
				<reportElement x="177" y="40" width="200" height="30" uuid="6786e1db-fcd5-44d0-bee0-d4f7ad40d65c"/>
				<textElement textAlignment="Center">
					<font fontName="Serif" size="20" isItalic="true"/>
				</textElement>
				<text><![CDATA[El Rinconcito de Ricky]]></text>
			</staticText>
			<staticText>
				<reportElement x="220" y="70" width="110" height="20" uuid="0fb657a2-e12d-4146-87b9-7761d2c2cb87"/>
				<textElement>
					<font size="14" isBold="true" isItalic="false"/>
				</textElement>
				<text><![CDATA[NIF: 20496589-P]]></text>
			</staticText>
			<staticText>
				<reportElement x="191" y="90" width="169" height="30" uuid="6c23ec83-8115-4195-9b7f-902496e5f99b"/>
				<textElement textAlignment="Center">
					<font size="16"/>
				</textElement>
				<text><![CDATA[Teléfono: 666004983]]></text>
			</staticText>
			<staticText>
				<reportElement style="Table_TH" x="156" y="110" width="242" height="30" uuid="df6d9fec-aa6d-4f7b-9b5b-e9ad4d0a7ea4"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<text><![CDATA[¡GRACIAS POR SU VISITA!]]></text>
			</staticText>
		</band>
	</title>
	<pageFooter>
		<band height="310" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="200" splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<componentElement>
				<reportElement mode="Opaque" x="160" y="78" width="240" height="90" uuid="73f4fb58-0613-49d3-8a4a-152c4d8cc835">
					<property name="com.jaspersoft.studio.table.style.table_header" value="Table_TH"/>
					<property name="com.jaspersoft.studio.table.style.column_header" value="Table_CH"/>
					<property name="com.jaspersoft.studio.table.style.detail" value="Table_TD"/>
				</reportElement>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="tableDataset" uuid="7b02c230-fcbf-45d0-a0a8-cac012ef0a65">
						<datasetParameter name="idMesa">
							<datasetParameterExpression><![CDATA[$P{idMesa}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="total">
							<datasetParameterExpression><![CDATA[$P{total}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="100" uuid="2cde9ed3-eb46-439c-b3dc-17438f1922a5">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column1"/>
						<jr:columnHeader style="Table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="100" height="30" uuid="5c5ee160-2573-4339-8f56-288e7f907bae"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font size="14"/>
								</textElement>
								<text><![CDATA[Descripción]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter style="Table_CH" height="32" rowSpan="1"/>
						<jr:detailCell style="Table_TD" height="30">
							<textField>
								<reportElement x="0" y="0" width="100" height="30" uuid="ac12ba2d-557f-4147-b0e1-4c483a4d7d12"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{nombre}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:columnGroup width="140" uuid="80151652-3db2-4b21-8402-e6f5e5893c40">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Columns [2]"/>
						<jr:column width="70" uuid="bce3cc03-41e0-48d5-b138-df72de70de96">
							<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column2"/>
							<jr:columnHeader style="Table_CH" height="30" rowSpan="1">
								<staticText>
									<reportElement x="0" y="0" width="70" height="30" uuid="9e666552-661e-4d81-81b6-1c04ac4a3c75"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font size="14"/>
									</textElement>
									<text><![CDATA[Unidades]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:columnFooter style="Table_CH" height="32" rowSpan="1">
								<staticText>
									<reportElement x="0" y="0" width="70" height="32" uuid="688124fa-1b53-41df-8b03-2c5f18453477"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font size="14"/>
									</textElement>
									<text><![CDATA[Total:]]></text>
								</staticText>
							</jr:columnFooter>
							<jr:detailCell style="Table_TD" height="30">
								<textField>
									<reportElement x="0" y="0" width="70" height="30" uuid="20b5560c-9b94-4798-a113-666ef7ae59dc"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font size="12"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{cantidad}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="70" uuid="3c72df98-f066-4955-813f-7c45b19f8d5b">
							<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column3"/>
							<jr:tableFooter style="Table_TH" height="0" rowSpan="1">
								<property name="com.jaspersoft.studio.unit.height" value="px"/>
							</jr:tableFooter>
							<jr:columnHeader style="Table_CH" height="30" rowSpan="1">
								<staticText>
									<reportElement x="0" y="0" width="70" height="30" uuid="b58ffe93-6920-4c94-acde-d760dc1c43e1"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font size="14"/>
									</textElement>
									<text><![CDATA[Precio]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:columnFooter style="Table_CH" height="32" rowSpan="1">
								<property name="com.jaspersoft.studio.unit.height" value="px"/>
								<textField>
									<reportElement x="0" y="0" width="70" height="32" uuid="ac4cfc7c-e1b3-42f6-a8b0-0a69eb903d28"/>
									<box>
										<topPen lineStyle="Solid" lineColor="#000000"/>
										<leftPen lineStyle="Solid" lineColor="#000000"/>
										<bottomPen lineStyle="Solid" lineColor="#000000"/>
										<rightPen lineStyle="Solid" lineColor="#000000"/>
									</box>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font size="14"/>
									</textElement>
									<textFieldExpression><![CDATA[$P{total}]]></textFieldExpression>
								</textField>
							</jr:columnFooter>
							<jr:detailCell style="Table_TD" height="30">
								<textField>
									<reportElement x="0" y="0" width="70" height="30" uuid="83a00f34-3702-40e7-b2ab-4fca48561d3d"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font size="12"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{precio}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
					</jr:columnGroup>
				</jr:table>
			</componentElement>
			<staticText>
				<reportElement style="Table_TH" x="159" y="0" width="242" height="30" uuid="0740b89e-f758-422e-b1a4-eb1c54a4298d"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<text><![CDATA[Nº FACTURA: ]]></text>
			</staticText>
			<textField>
				<reportElement x="323" y="0" width="80" height="30" uuid="ad629c4a-b3f7-46a7-b7df-c1e8eb523ee3"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{idFactura}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="230" y="40" width="23" height="30" uuid="41a31a83-cbf6-4b9f-a524-5372347b35c1"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{idMesa}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="313" y="40" width="90" height="30" uuid="09637623-9d5c-4582-9e6a-21c5d5695084"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{fecha}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="159" y="40" width="77" height="30" uuid="ec945ca1-6f2a-4fd3-8edc-12fa532ef9e8"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<text><![CDATA[Nº MESA: ]]></text>
			</staticText>
			<staticText>
				<reportElement x="256" y="40" width="67" height="30" uuid="9550ea5a-248e-4726-a6ee-a8d1ec0d5d91"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<text><![CDATA[FECHA: ]]></text>
			</staticText>
		</band>
	</summary>
</jasperReport>
